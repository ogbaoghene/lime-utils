// RGBa Fallback
//
// Provide hexadecimal fallback for backgrounds and colors with RGBa values. 
//
// Parameters:
// ```scss
// $type : background-color(bg) or color(color)
// $color: hexadecimal colour
// $percentage : level of tranparency
// $rgba : Determine if transparent element rests on dark backgound. Predefined as null
// ```
// 
// Usage:
// ```scss
// .example {
//   @include rgba-fallback(bg, #3498db, .5);
// }
//
// .example2 {
//   @include rgba-fallback(color, #3498db, .5, $rgba: dark);
// }
// ```
//
// **Requires** : _smartRgba
//
// Adapted from [Sassifaction](https://github.com/sturobson/sassifaction)
//
// Styleguide 2.2

@mixin rgba-fallback($type, $color, $percentage, $rgba: lighten) {
  @if $type == color {
    @if $rgba == lighten {
      color: smart-rgba($color, $percentage);
    }
    @else {
      color: dark-smart-rgba($color, $percentage);
    }
    color: rgba($color, $percentage);
  }
  @if $type == bg {
    @if $rgba == lighten {
      background-color: smart-rgba($color, $percentage);
    }
    @else {
      background-color: dark-smart-rgba($color, $percentage);
    }
    background-color: rgba($color, $percentage);
  }
}

