// RGBa Fallback
//
// Provide hexadecimal fallback for backgrounds and colors with RGBa values. 
//
// Parameters:
// ```scss
// $type : background-color(bg) or color(color)
// $color: hexadecimal colour
// $percentage : level of tranparency
// $darken : Determine if transparent element rests on dark backgound. Predefined as null
// ```
// 
// Usage:
// ```scss
// .example {
//   @include rgba-fallback(bg, #3498db, .5);
// }
//
// .example2 {
//   @include rgba-fallback(color, #3498db, .5, $darken: true);
// }
// ```
//
// **Requires** : _smartRgba
//
// Adapted from [Sassifaction](https://github.com/sturobson/sassifaction)
//
// Styleguide 2.2

@mixin rgba-fallback($type, $color, $percentage, $darken: null) {
  @if $type == color {
    @if $darken != null {
      color: dark-smart-rgba($color, $percentage);
    } @else {
      color: smart-rgba($color, $percentage);
    }
    color: rgba($color, $percentage);
  } @else if $type == bg {
    @if $darken != null {
      background-color: dark-smart-rgba($color, $percentage);
    } @else {
      background-color: smart-rgba($color, $percentage);
    }
    background-color: rgba($color, $percentage);
  } @else {
    @warn '`#{$type}` must be either `$color` or `$bg`.';
  }
}

